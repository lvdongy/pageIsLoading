/*!
 * page-is-loading v1.1.1
 * Wed Jan 11 2023, lvdongy
 * Released under the MIT License.
 */
var pageIsLoading=function(){"use strict";function r(r){return function(r){if(Array.isArray(r))return t(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,n){if(!r)return;if("string"==typeof r)return t(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return t(r,n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function n(r){if(r){if("function"!=typeof r)throw new TypeError("load is not a function");r()}}function e(r,t,n,e){if(e){if("function"!=typeof e)throw new TypeError("load is not a function");e(r,t,r/t,n)}}function o(r,t,n){if("pageIsLoadingIgnore"in r.dataset)return!1;var e,o=function(r){if(!r||"string"!=typeof r)return"";return r.split("/").pop().split("?")[0]||""}(t);return e=n,("[object RegExp]"!==Object.prototype.toString.call(e)||!n.test(o))&&("function"!=typeof n||!n(o,t))}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.el,a=t.each,u=t.load,f=t.extraImg,c=t.ignoreImg,l=[],s=[],p=0,g=0,m=/url\(\s*(['"]?)(.*?)\1\s*\)/g;if(!(i=null==i||""===i?document.body:document.querySelector(i)))throw new TypeError("Node not found: "+i);l=i.getElementsByTagName("*");for(var y=0;y<l.length;y++){var d=l[y];"IMG"===d.nodeName&&d.src&&o(d,d.src,c)&&s.push({element:d,src:d.src});var h=window.getComputedStyle(d).backgroundImage;if(h&&"none"!==h)for(var v=void 0;v=m.exec(h);)o(d,v[2],c)&&s.push({element:d,src:v[2]})}if(f&&Array.isArray(f)&&s.push.apply(s,r(f.map((function(r){return"string"!=typeof r&&console.error('You must pass an image URL: "extraImg"'),{element:null,src:r,isExtraImg:!0}})))),0!==(p=s.length))for(var b=function(){var r=s[I],t=new Image;["load","error"].forEach((function(o){t.addEventListener(o,(function(){e(++g,p,r.element,a),g===p&&n(u),t=null}))})),t.src=r.src},I=0;I<p;I++)b();else n(u)}}();
